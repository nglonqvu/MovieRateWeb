@using WebApp.Models;
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
	Layout = "_AdminLayout";
	ViewData["Title"] = "List Movie";
	var Movies = ViewBag.Movies;
	var Genres = ViewBag.Genres;
	var msg = ViewData["msg"];
}
<h1>List Movies</h1>
<div class="row">
	<div class="col-lg-6"><a asp-action="CreateMovie">Create a new Movie</a></div>
	<div class="col-lg-6 ">
		<form method="post" asp-action="SearchMovie" class="float-end">
			<input text="text" placeholder="Search by Name" name="value"/>
			<input type="submit" value="Search" />
		</form>
	</div>
</div
@if (msg != null)
 {
    <p style="color:red;">@msg</p>
 }
<div class="container">
	<table class="table table-hover">
		<thead>
			<tr>
				<th scope="col">Movie Id</th>
				<th scope="col">Title</th>
				<th scope="col">Year</th>
				<th scope="col">Description</th>
				<th scope="col">Image</th>
				<th scope="col">Genre</th>
				<th scope="col">Action</th>
			</tr>
		</thead>
		<tbody>
			@foreach (Movie movie in Movies)
			{
				<tr>
					<th scope="row">@movie.MovieId</th>
					<td>@movie.Title</td>					
					<td>@movie.Year</td>										
					<td>@movie.Description</td>
					<td><img src="@movie.Image" style="width: 100px; height: 15	0px;"></img></td>						
					<td>@movie.Genre.Description</td>
					<td>
						<a asp-action="EditMovie" asp-route-id="@movie.MovieId">Edit</a>
						<a asp-action="DeleteMovie" asp-route-id="@movie.MovieId">Delete</a>
					</td>
				</tr>
			}
		</tbody>
	</table>
</div>